CREATE TABLE person (
    _id	INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    surname TEXT NOT NULL,
    email TEXT NOT NULL,
    password TEXT NOT NULL,
    description TEXT NOT NULL,
    gender TEXT NOT NULL

);

CREATE TABLE place (
    _id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    type TEXT NOT NULL,
    lat FLOAT,
    lon FLOAT,
    address TEXT NOT NULL,
    description TEXT NOT NULL,
    openning TEXT,
    closing TEXT,
    review FLOAT NOT NULL
);

CREATE TABLE favourite_place(
    id_person INTEGER,
    id_place INTEGER,
    PRIMARY KEY (id_person, id_place),
    FOREIGN KEY(id_person) REFERENCES person(_id),
    FOREIGN KEY(id_place) REFERENCES place(_id)
)


CREATE TABLE busqueda(
    id_busqueda INTEGER PRIMARY KEY AUTOINCREMENT,
    busqueda TEXT NOT NULL
);


CREATE TABLE recent_place(
    id_person INTEGER,
    id_busqueda INTEGER,
    PRIMARY KEY (id_person, id_busqueda),
    FOREIGN KEY(id_person) REFERENCES person(_id),
    FOREIGN KEY(id_busqueda) REFERENCES busqueda(id_busqueda)
);

CREATE TABLE comment(
    _id INTEGER PRIMARY KEY AUTOINCREMENT,
    id_person INTEGER PRIMARY KEY,
    id_place INTEGER PRIMARY KEY,
    message TEXT NOT NULL,
    FOREIGN KEY (id_person) REFERENCES person(_id),
    FOREIGN KEY (id_place) REFERENCES place (_id)
);